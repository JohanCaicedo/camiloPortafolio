---
export type Props = { [k: string]: unknown };
---

<button type='button' aria-label='Switch theme' {...Astro.props}>
  <svg data-icon='sun' viewBox='0 0 24 24' width='24' height='24' stroke='currentColor' stroke-width='2' fill='none'
    stroke-linecap='round' stroke-linejoin='round' class='css-i6dzq1'>
    <circle cx='12' cy='12' r='5'></circle>
    <line x1='12' y1='1' x2='12' y2='3'></line>
    <line x1='12' y1='21' x2='12' y2='23'></line>
    <line x1='4.22' y1='4.22' x2='5.64' y2='5.64'></line>
    <line x1='18.36' y1='18.36' x2='19.78' y2='19.78'></line>
    <line x1='1' y1='12' x2='3' y2='12'></line>
    <line x1='21' y1='12' x2='23' y2='12'></line>
    <line x1='4.22' y1='19.78' x2='5.64' y2='18.36'></line>
    <line x1='18.36' y1='5.64' x2='19.78' y2='4.22'></line>
  </svg>

  <svg data-icon='moon' viewBox='0 0 24 24' width='24' height='24' stroke='currentColor' stroke-width='2' fill='none'
    stroke-linecap='round' stroke-linejoin='round' class='css-i6dzq1'>
    <path d='M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z'></path>
  </svg>
</button>

<style lang='scss'>
  button {
    --size: 3rem;
    height: var(--size);
    width: var(--size);
    border-radius: 50%;
    border: none;
    background: transparent;
    cursor: pointer;
    display: grid;
    place-items: center;
    overflow: hidden;

    >svg {
      grid-area: 1 / 1;
      height: calc(var(--size) * 0.75);
      width: calc(var(--size) * 0.75);
    }

    &:hover {
      background: hsl(0 0% 50% / 0.3);
    }
  }


  [data-icon='sun'],
  [data-icon='moon'] {
    will-change: transform;
    transition: opacity 150ms linear, transform 400ms ease-out;
  }


  :global([data-theme='light']) [data-icon='moon'],
  :global([data-theme='dark']) [data-icon='sun'] {
    opacity: 0;
    transform: translateY(100%);
    transition: opacity 200ms linear, transform 300ms ease-in;
  }
</style>